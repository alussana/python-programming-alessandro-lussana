N=$(zcat filled_conf_list.gz | awk '$3==0{print $0}' | wc -l); P=$(zcat filled_conf_list.gz | awk '$3==1{print $0}' | wc -l); zcat filled_conf_list.gz | awk -v P=$P -v N=$N '{if($2 != 1.0 && $3 == 1){print $1"\t"$2*P"\t"$3}else if($2 != 1.0 && $3 == 0){print $1"\t"$2*N"\t"$3} else{print $0}}' | gzip > corrected_filled_conf_list.gz